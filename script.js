const dict = {
  ar: {
    brand: "فلته",
    nav_about: "عن فلته",
    nav_features: "المزايا",
    nav_join: "سجّل اهتمامك",
    nav_contact: "للتواصل والشراكات",
    hero_h1: "التوصيل بين المدن — بأسلوب أذكى",
    hero_p: "فلته تربط المرسِل بالمسافر مباشرة لتوصيل الطلبات بسرعة وبتكلفة أقل على الرحلات التي ستتم على أي حال مع تحقيق دخل للمواطن.",
    hero_cta: "سجّل اهتمامك",
    hero_secondary: "شاهد المزايا",
    kpi_title: "لمحة عن تجربة المستخدم",
    kpi1: "أضف رحلاتك",
    kpi2: "الرحلات القائمة",
    kpi3: "أرسل شُحنة",
    kpi4: "الشحنات المتوفّرة",
    kpi5: "تسعير ديناميكي",
    kpi6: "الشحن المتعدد",
    kpi_disc: "* هذا عرض مبسّط — تفاصيل أكثر عند الإطلاق.",
    about_h2: "عن فلته (Faltah)",
    about_p: "فلته منصة توصيل تربط المسافرين بالمرسلين لتسليم الشحنات بين المدن، بمعايير أمان وجودة عالية ونموذج تسعير واضح وعادل.",
    about_card1_h3: "لماذا الآن؟",
    about_card1_p: "الطلب على حلول توصيل مرنة وسريعة في ازدياد. فلته يقلل التكلفة بربط الشحنات برحلات قائمة أصلاً.",
    about_card2_h3: "قيمة حقيقية",
    about_card2_p: "وقت أقصر وتكلفة أقل للمرسل، ودخل إضافي للمسافر، وحلول تجميع فعّالة للمتاجر.",
    about_card3_h3: "جاهزية للنمو",
    about_card3_p: "بنية قابلة للتوسع ودعم ثنائي اللغة وتجربة مهيأة للأجهزة المحمولة.",
    features_h2: "المزايا الأساسية",
    tag_sender: "للـمرسِل",
    tag_traveler: "للمسافر",
    tag_merchant: "للمتاجر",
    f1_h: "تسعير شفاف وديناميكي",
    f1_p: "حساب تلقائي حسب المسافة والوزن مع وضوح كامل للتكلفة.",
    f2_h: "مطابقة سريعة",
    f2_p: "ربط الشحنة بأقرب رحلة مناسبة لتقليل زمن الانتظار.",
    f3_h: "دخل إضافي من رحلاتك",
    f3_p: "حوّل رحلاتك المعتادة إلى مصدر دخل بسيط وآمن.",
    f4_h: "رحلات ولوحة واضحة",
    f4_p: "واجهة منظمة لعرض الرحلات القائمة والشحنات المتاحة.",
    f5_h: "التجميع الذكي (3+)",
    f5_p: "تحفيز لتجميع الشحنات لخفض التكلفة وتحسين الكفاءة.",
    f6_h: "شحن متعدد بواجهة واحدة",
    f6_p: "إدارة طلبات متعددة في دفعة واحدة بسهولة.",
    form_h2: "سجّل اهتمامك",
    form_p: "اضغط الزر لفتح النموذج بملء الشاشة.",
    form_btn: "فتح النموذج",
    privacy_note: "نحترم خصوصيتك — تُستخدم معلوماتك للتواصل حول الإطلاق فقط.",
    contact_h2: "للتواصل والشراكات",
    contact_p: "للمستثمرين والشركاء يسعدنا استكشاف سُبل التعاون بيننا بما يحقق قيمة مشتركة.",
    contact_invest: "للمستثمرين",
    contact_partners: "للشراكات",
    contact_hello: "للإستفسارات العامة",
    foot_copy: "© 2025 فلته — جميع الحقوق محفوظة.",
    foot_priv: "سياسة الخصوصية",
    foot_terms: "الشروط",
    modal_title: "سجّل اهتمامك"
  },
  en: {
    brand: "Faltah",
    nav_about: "About",
    nav_features: "Features",
    nav_join: "Join Waitlist",
    nav_contact: "Partnerships",
    hero_h1: "Intercity delivery — made smarter",
    hero_p: "Faltah connects senders with travelers to deliver items faster and at lower cost on trips that are happening anyway — creating income for citizens.",
    hero_cta: "Join waitlist",
    hero_secondary: "See features",
    kpi_title: "Experience Highlights",
    kpi1: "Add your trips",
    kpi2: "Available trips",
    kpi3: "Send a parcel",
    kpi4: "Available shipments",
    kpi5: "Dynamic pricing",
    kpi6: "Multi-shipment",
    kpi_disc: "* Simplified preview — more details at launch.",
    about_h2: "About Faltah",
    about_p: "Faltah connects travelers and senders for intercity deliveries with strong safety standards and clear, fair pricing.",
    about_card1_h3: "Why now?",
    about_card1_p: "Demand for flexible and fast delivery is rising. Faltah reduces cost by matching shipments to existing trips.",
    about_card2_h3: "Real value",
    about_card2_p: "Shorter time & lower cost for senders, extra income for travelers, and efficient bundling for merchants.",
    about_card3_h3: "Ready to scale",
    about_card3_p: "Scalable build, bilingual support, and mobile-first UX.",
    features_h2: "Key features",
    tag_sender: "Sender",
    tag_traveler: "Traveler",
    tag_merchant: "Merchants",
    f1_h: "Transparent dynamic pricing",
    f1_p: "Automatic pricing by distance & weight with full clarity.",
    f2_h: "Fast matching",
    f2_p: "Match a shipment to the nearest suitable trip to reduce wait time.",
    f3_h: "Extra income from your trips",
    f3_p: "Turn regular journeys into simple, safe earnings.",
    f4_h: "Clear trips dashboard",
    f4_p: "Organized view of active trips and available shipments.",
    f5_h: "Smart bundling (3+)",
    f5_p: "Encourage grouping shipments to lower costs and boost efficiency.",
    f6_h: "Multi-shipment in one flow",
    f6_p: "Manage multiple orders in one go.",
    form_h2: "Join the waitlist",
    form_p: "Click the button to open a fullscreen form.",
    form_btn: "Open form",
    privacy_note: "We respect your privacy — your info is used only to contact you about the launch.",
    contact_h2: "Contact & Partnerships",
    contact_p: "Investors and partners — we’re excited to explore collaboration that creates shared value.",
    contact_invest: "Investors",
    contact_partners: "Partnerships",
    contact_hello: "General inquiries",
    foot_copy: "© 2025 Faltah — All rights reserved.",
    foot_priv: "Privacy Policy",
    foot_terms: "Terms",
    modal_title: "Join the waitlist"
  }
};

function setLang(lang){
  const root = document.documentElement;
  const isAr = lang === "ar";
  root.lang = isAr ? "ar" : "en";
  root.dir = isAr ? "rtl" : "ltr";
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const key = el.getAttribute("data-i18n");
    if(dict[lang][key]) el.textContent = dict[lang][key];
  });
  document.getElementById("arBtn").setAttribute("aria-pressed", isAr ? "true" : "false");
  document.getElementById("enBtn").setAttribute("aria-pressed", !isAr ? "true" : "false");
  localStorage.setItem("faltah_lang", lang);
}
document.getElementById("arBtn").addEventListener("click", ()=>setLang("ar"));
document.getElementById("enBtn").addEventListener("click", ()=>setLang("en"));
setLang(localStorage.getItem("faltah_lang") === "en" ? "en" : "ar");

// Modal
const modal = document.getElementById("formModal");
const openers = document.querySelectorAll(".open-form");
const closeBtn = modal.querySelector(".close-btn");
const backdrop = modal.querySelector(".modal-backdrop");
function openModal(){ modal.classList.remove("hidden"); modal.setAttribute("aria-hidden","false"); document.body.style.overflow="hidden"; }
function closeModal(){ modal.classList.add("hidden"); modal.setAttribute("aria-hidden","true"); document.body.style.overflow=""; }
openers.forEach(btn=>btn.addEventListener("click", e=>{ e.preventDefault(); openModal(); }));
closeBtn.addEventListener("click", closeModal);
backdrop.addEventListener("click", closeModal);

// Open with hash
if(location.hash === "#form") openModal();

// Smooth scroll
document.querySelectorAll('a[href^="#"]').forEach(a=>{
  a.addEventListener("click", e=>{
    const id = a.getAttribute("href").slice(1);
    if(id === "form") return;
    const target = document.getElementById(id);
    if(target){ e.preventDefault(); target.scrollIntoView({behavior:"smooth", block:"start"}); }
  });
});
